{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"./api-call.service\";\nexport let NotificationService = /*#__PURE__*/(() => {\n  class NotificationService {\n    //ask for notification about event status e imminent event to backend passing false so \n    //that the notification is not deleted from db \n    getNotification() {\n      this.api.getEventImminent().then(data => {\n        this.imminentEvent = data;\n      });\n      this.api.getNotification(\"false\").then(data => {\n        let notification;\n        if (data.length > 0) this.isInboxFull = true;else this.isInboxFull = false;\n        this.notification = data;\n        for (notification of data) {\n          let message = JSON.parse(JSON.stringify(notification));\n          Notification.requestPermission().then(perm => {\n            if (perm === \"granted\") new Notification(message.message, {\n              body: message.body\n            });\n          });\n        }\n      });\n    }\n    constructor(api) {\n      this.api = api;\n      this.isInboxFull = false;\n    }\n    static #_ = this.ɵfac = function NotificationService_Factory(t) {\n      return new (t || NotificationService)(i0.ɵɵinject(i1.ApiCallService));\n    };\n    static #_2 = this.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n      token: NotificationService,\n      factory: NotificationService.ɵfac,\n      providedIn: 'root'\n    });\n  }\n  return NotificationService;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}